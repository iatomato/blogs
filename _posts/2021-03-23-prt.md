```cmd
root@esr0:~# service bind9 status
● named.service - BIND Domain Name Server
     Loaded: loaded (/lib/systemd/system/named.service; enabled; vendor preset>
     Active: active (running) since Tue 2021-03-23 00:01:35 UTC; 3min 40s ago
       Docs: man:named(8)
   Main PID: 607 (named)
      Tasks: 5 (limit: 1073)
     Memory: 20.1M
     CGroup: /system.slice/named.service
             └─607 /usr/sbin/named -f -u bind
```
````
Mar 23 00:01:36 esr0 named[607]: network unreachable resolving './DNSKEY/IN': >
Mar 23 00:01:36 esr0 named[607]: network unreachable resolving './NS/IN': 2001>
Mar 23 00:01:36 esr0 named[607]: network unreachable resolving './DNSKEY/IN': >
Mar 23 00:01:36 esr0 named[607]: network unreachable resolving './NS/IN': 2001>
Mar 23 00:01:36 esr0 named[607]: network unreachable resolving './DNSKEY/IN': >
Mar 23 00:01:36 esr0 named[607]: network unreachable resolving './NS/IN': 2001>
Mar 23 00:01:36 esr0 named[607]: network unreachable resolving './DNSKEY/IN': >
Mar 23 00:01:36 esr0 named[607]: network unreachable resolving './NS/IN': 2001>
Mar 23 00:01:37 esr0 named[607]: managed-keys-zone: Key 20326 for zone . is no>
Mar 23 00:01:37 esr0 named[607]: resolver priming query complete
```
```
root@esr0:~# ss -tap | grep named
LISTEN   0      10                       192.168.122.232:domain         0.0.0.0:*               users:(("named",pid=607,fd=22),("named",pid=607,fd=21))                        
LISTEN   0      10                             127.0.0.1:domain         0.0.0.0:*               users:(("named",pid=607,fd=18),("named",pid=607,fd=17))                        
LISTEN   0      4096                           127.0.0.1:953            0.0.0.0:*               users:(("named",pid=607,fd=29))                                                
LISTEN   0      10      [fe80::5054:ff:fef6:4882]%enp1s0:domain            [::]:*               users:(("named",pid=607,fd=28),("named",pid=607,fd=27))                        
LISTEN   0      10                                 [::1]:domain            [::]:*               users:(("named",pid=607,fd=25),("named",pid=607,fd=24))                        
LISTEN   0      4096                               [::1]:953               [::]:*               users:(("named",pid=607,fd=30)) 
```
```
root@esr0:/etc/bind# nslookup
> www.google.com
Server:		127.0.0.53
Address:	127.0.0.53#53

Non-authoritative answer:
Name:	www.google.com
Address: 192.168.122.232
Name:	www.google.com
> 
```

```
nslookup google.com 192.168.122.232
Server:		192.168.122.232
Address:	192.168.122.232#53

Name:	google.com
Address: 192.168.122.121
Name:	google.com
Address: ::1
```

```
/etc/bind/named.conf.local

zone "example.com" {
    type master;
    file "/etc/bind/db.google.com";
    allow-transfer { 192.168.122.121; };
};
    
zone "1.168.192.in-addr.arpa" {
    type master;
    file "/etc/bind/db.192";
    allow-transfer { 192.168.122.121; };
};
```
```
root@esr0:/etc/bind# nslookup ns.zhangsan.com 192.168.122.232
Server:		192.168.122.232
Address:	192.168.122.232#53

Name:	ns.zhangsan.com
Address: 192.168.122.121

;
; BIND data file for example.com
;
$TTL    604800
@       IN      SOA     zhangsan.com. root.zhangsan.com. (
                              2         ; Serial
                         604800         ; Refresh
                          86400         ; Retry
                        2419200         ; Expire
                         604800 )       ; Negative Cache TTL

@       IN      NS      ns.zhangsan.com.
@       IN      A       192.168.122.121
@       IN      AAAA    ::1
ns      IN      A       192.168.122.121

```
```
root@esr1:/etc/bind# cat <<EOF > /etc/bind/named.conf.local
> zone "zhangsan.com" {
>     type slave;
>     file "db.zhangsan.com";
>     masters { 192.168.122.223; };
> };        
>           
> zone "1.168.192.in-addr.arpa" {
>     type slave;
>     file "db.192";
>     masters { 192.168.122.223; };
> };
> EOF
```
